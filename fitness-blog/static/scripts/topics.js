const categoryInfo = {
  eating: {
    coverImg: "../static/images/nutrition.header.jpg",
    headerLine: "I Want to Eat Better",
    tagline:
      "Ready to take charge of your diet? These nutrition-focused guides, tips and recipes will set you up for success.",
    blogs: [
      {
        title:
          "The 15 Best Foods to Eat Before Drinking Alcohol (and 4 to Avoid)",
        date: "May 22, 2022",
        author: "Sarah Pflugadt",
        cover: "nutri-blog-1.cover.webp",
        url: "./blog.food-1.html",
      },
      {
        title:
          "The One Snack Dermatologists Want You to Eat More Often for Radiant Skin",
        date: "May 22, 2022",
        author: "Sarah Pflugadt",
        cover: "nutri-blog-2.cover.webp",
        url: "./blog.food-2.html",
      },
      {
        title: "The One Fruit Dietitians Want You to Eat for a Sharper Mind",
        date: "May 21, 2022",
        author: "Sarah Pflugadt",
        cover: "nutri-blog-3.cover.webp",
        url: "./blog.food-3.html",
      },
      {
        title:
          "Want to Improve Your Endurance? Here Are the Best and Worst Foods to Eat",
        date: "May 16, 2022",
        author: "Lacey Muinos",
        cover: "nutri-blog-4.cover.webp",
        url: "./blog.food-4.html",
      },
      {
        title: "Want to Age Well? Sip These 10 Avocado Smoothie Recipes",
        date: "May 24, 2022",
        author: "Lacey Muinos",
        cover: "nutri-blog-5.cover.webp",
        url: "./blog.food-5.html",
      },
      {
        title: "The One Breakfast Brain Experts Want You to Eat More Often",
        date: "May 24, 2022",
        author: "kelsey Kloss",
        cover: "nutri-blog-6.cover.webp",
        url: "./blog.food-6.html",
      },
    ],
  },
  exercise: {
    coverImg: "../static/images/exercise.header.jpg",
    headerLine: "I Want to Get Fit",
    tagline:
      "No matter your fitness background and level, these workouts and exercise guides will help you get (and stay) in great shape.",
    blogs: [
      {
        title: "A Quick, 10-Minute Ab Workout for People With Back Pain",
        date: "May 21, 2022",
        author: "Cara Stevens",
        cover: "workout-blog-1.cover.webp",
        url: "./blog.workout-1.html",
      },
      {
        title: "6 Reasons You Fart in Yoga Class and How to Fight Gas Fast",
        date: "May 27, 2022",
        author: "Molly Triffin",
        cover: "workout-blog-2.cover.webp",
        url: "./blog.workout-2.html",
      },
      {
        title: "The 6 Best Amazon Fitness Products on Sale This Memorial Day",
        date: "May 27, 2022",
        author: "Bojana Gallic",
        cover: "workout-blog-3.cover.webp",
        url: "./blog.workout-3.html",
      },
      {
        title:
          "5 Reasons You’re Not Building Muscle That Have Nothing to Do With Your Workouts",
        date: "May 27, 2022",
        author: "Greg Presto",
        cover: "workout-blog-4.cover.webp",
        url: "./blog.workout-4.html",
      },
      {
        title:
          "The APL Streamline Running Shoe Is the Most Fashionable and Functional I’ve Ever Tried",
        date: "May 27, 2022",
        author: "Bojana Gallic",
        cover: "workout-blog-5.cover.webp",
        url: "./blog.workout-5.html",
      },
      {
        title:
          "The 3 Best Ways to Style Every Hair Type for a Workout, According to Experts",
        date: "May 27, 2022",
        author: "Reshmi Oberoi",
        cover: "workout-blog-6.cover.webp",
        url: "./blog.workout-6.html",
      },
      {
        title:
          "How to Build Mind-Body Trust and Improve Your Athletic Performance",
        date: "May 22, 2022",
        author: "Ali Nolan",
        cover: "workout-blog-7.cover.webp",
        url: "./blog.workout-7.html",
      },
    ],
  },
  lifestyle: {
    coverImg: "../static/images/lifestyle.header.jpg",
    headerLine: "I Want a Better Lifestyle",
    tagline:
      "No matter where you live, it is always possible to make changes to your lifestyle for a healthier and more fulfilling life.",
    blogs: [
      {
        title: "The 5 Best Memorial Day Mattress Sales to Shop This Weekend",
        date: "March 29, 2022",
        author: "Kathleen Ferraro",
        cover: "lifestyle-blog-1.cover.webp",
        url: "./blog.lifestyle-1.html",
      },
      {
        title:
          "The 6 Best Water-Resistant Sunscreens That Stand Up to Sweat and Swimming",
        date: "March 29, 2022",
        author: "Kayla Hui",
        cover: "lifestyle-blog-2.cover.webp",
        url: "./blog.lifestyle-2.html",
      },
      {
        title: "What Really Happens to Your Body When You’re Constipated",
        date: "March 29, 2022",
        author: "Marygrace taylor",
        cover: "lifestyle-blog-3.cover.webp",
        url: "./blog.lifestyle-3.html",
      },
      {
        title: "Too Anxious to Sleep? Here's How to Tell if It's Somniphobia",
        date: "March 29, 2022",
        author: "jamie Osmato",
        cover: "lifestyle-blog-4.cover.webp",
        url: "./blog.lifestyle-4.html",
      },
      {
        title:
          "Want to Age Well? Do This as Soon as You Get Out of Bed Every Morning",
        date: "March 29, 2022",
        author: "MaryGrace Taylor",
        cover: "lifestyle-blog-6.cover.webp",
        url: "./blog.lifestyle-5.html",
      },
    ],
  },
  weight: {
    coverImg: "../static/images/weight.header.jpg",
    headerLine: "I Want to Manage My Weight",
    tagline:
      "Whether your aim is to reach or maintain a healthy weight, these evidence-based programs will help you achieve your goal.",
    blogs: [
      {
        title:
          "3 Spring Pitfalls That Can Lead to Weight Gain and How to Nip Them in the Bud",
        date: "March 29, 2022",
        author: "Tiffany Curtis",
        cover: "weight-blog-1.cover.webp",
        url: "./blog.weight-1.html",
      },
      {
        title:
          "Seafood Can Help You Lose Weight, Unless You're Making These 4 Mistakes",
        date: "February 1, 2022",
        author: "Marygrace Taylor",
        cover: "weight-blog-2.cover.webp",
        url: "./blog.weight-2.html",
      },
      {
        title:
          "Why Social Support Is Key for Weight Loss, and Where to Find It",
        date: "February 1, 2022",
        author: "Bojana Gallic",
        cover: "weight-blog-3.cover.webp",
        url: "./blog.weight-3.html",
      },
      {
        title: "What 'Fatphobia' Really Means, and Why It's So Harmful",
        date: "February 1, 2022",
        author: "Hallie Levin",
        cover: "weight-blog-4.cover.webp",
        url: "./blog.weight-4.html",
      },
      {
        title:
          "Exactly When to Weigh Yourself When You're Trying to Lose Weight",
        date: "February 1, 2022",
        author: "Hallie Levin",
        cover: "weight-blog-5.cover.webp",
        url: "./blog.weight-5.html",
      },
      {
        title:
          "'The Calories In, Calories Out Model of Eating Never Worked for Me — Here’s What I Did Instead'",
        date: "February 1, 2022",
        author: "Calibrate",
        cover: "weight-blog-6.cover.webp",
        url: "./blog.weight-6.html",
      },
    ],
  },
};

document
  .getElementById("subscription")
  .addEventListener("submit", function (e) {
    e.preventDefault();
    alert("You have been subscribed for weekly newsletter");
  });

document.addEventListener("DOMContentLoaded", () => {
  const category = new URLSearchParams(document.location.search).get(
    "category"
  );

  // Activate Navlink
  const navLink = document.querySelector(`a.dropdown-item#${category}`);
  navLink.classList.add("fw-bold", "active", "bg-dark");

  const categoryData = categoryInfo[category];

  document.querySelector("h1.page-title").textContent = categoryData.headerLine;
  document.querySelector("p.tagline").textContent = categoryData.tagline;
  document.querySelector(
    "section.topic-list__header"
  ).style.backgroundImage = `url("${categoryData.coverImg}")`;

  const template = document.querySelector("template#blogCard");
  const listContainer = document.getElementById("topicList");
  const row = document.createElement("div");
  row.classList.add("row");

  categoryData.blogs.forEach((item) => {
    const card = template.content.cloneNode(true);
    card
      .querySelector("img")
      .setAttribute("src", `../static/images/${item.cover}`);
    card.querySelector("h4").textContent = item.title;
    card.querySelector("p#date").textContent = item.date;
    card.querySelector("#author").textContent = item.author;
    card.querySelector("a#link").setAttribute("href", item.url);

    row.appendChild(card);
  });

  listContainer.appendChild(row);
  template.remove();
});
